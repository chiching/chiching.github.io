"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["3037"],{3857:function(e,r,p){p.r(r),p.d(r,{default:function(){return i}});var h=p(5893),n=p(65);function t(e){let r=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p"},(0,n.ah)(),e.components);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(r.h1,{id:"profile",children:["profile",(0,h.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#profile",children:"#"})]}),"\n",(0,h.jsxs)(r.h2,{id:"import-package",children:["import package",(0,h.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#import-package",children:"#"})]}),"\n",(0,h.jsx)(r.p,{children:'"net/http"\r\n_ "net/http/pprof"'}),"\n",(0,h.jsxs)(r.h2,{id:"listen",children:["listen",(0,h.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#listen",children:"#"})]}),"\n",(0,h.jsx)(r.p,{children:'http.ListenAndServe("0.0.0.0:9999", nil)'}),"\n",(0,h.jsxs)(r.h2,{id:"graphviz",children:["graphviz",(0,h.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#graphviz",children:"#"})]}),"\n",(0,h.jsx)(r.p,{children:"sudo apt install graphviz"}),"\n",(0,h.jsxs)(r.h2,{id:"profile-cpu",children:["profile cpu",(0,h.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#profile-cpu",children:"#"})]}),"\n",(0,h.jsxs)(r.p,{children:["go tool pprof -http=:1234 ",(0,h.jsx)(r.a,{href:"http://127.0.0.1:9999/debug/pprof/profile?seconds=300",target:"_blank",rel:"noopener noreferrer",children:"http://127.0.0.1:9999/debug/pprof/profile?seconds=300"})]}),"\n",(0,h.jsxs)(r.h2,{id:"profile-memery",children:["profile memery",(0,h.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#profile-memery",children:"#"})]}),"\n",(0,h.jsxs)(r.p,{children:["go tool pprof -http=:1234 ",(0,h.jsx)(r.a,{href:"http://127.0.0.1:9999/debug/pprof/heap",target:"_blank",rel:"noopener noreferrer",children:"http://127.0.0.1:9999/debug/pprof/heap"})]}),"\n",(0,h.jsxs)(r.h2,{id:"profile-heap",children:["profile heap",(0,h.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#profile-heap",children:"#"})]}),"\n",(0,h.jsxs)(r.p,{children:["/usr/local/go/bin/go tool pprof -inuse_space ",(0,h.jsx)(r.a,{href:"http://127.0.0.1:9999/debug/pprof/heap?seconds=300",target:"_blank",rel:"noopener noreferrer",children:"http://127.0.0.1:9999/debug/pprof/heap?seconds=300"})]}),"\n",(0,h.jsxs)(r.p,{children:["/usr/local/go/bin/go tool pprof -inuse_space ",(0,h.jsx)(r.a,{href:"http://127.0.0.1:9999/debug/pprof/profile",target:"_blank",rel:"noopener noreferrer",children:"http://127.0.0.1:9999/debug/pprof/profile"})]}),"\n",(0,h.jsxs)(r.p,{children:["/usr/local/go/bin/go tool pprof -http=:1234 ",(0,h.jsx)(r.a,{href:"http://127.0.0.1:9999/debug/pprof/heap",target:"_blank",rel:"noopener noreferrer",children:"http://127.0.0.1:9999/debug/pprof/heap"})]}),"\n",(0,h.jsxs)(r.h2,{id:"schedule",children:["schedule",(0,h.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#schedule",children:"#"})]}),"\n",(0,h.jsx)(r.p,{children:'â€µGODEBUG="schedtrace=2000,scheddetail=1" ./service`'})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,n.ah)(),e.components);return r?(0,h.jsx)(r,{...e,children:(0,h.jsx)(t,{...e})}):t(e)}let i=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["notes%2F02-Software%20Development%2Fgo%2Fprofile.md"]={toc:[{text:"import package",id:"import-package",depth:2},{text:"listen",id:"listen",depth:2},{text:"graphviz",id:"graphviz",depth:2},{text:"profile cpu",id:"profile-cpu",depth:2},{text:"profile memery",id:"profile-memery",depth:2},{text:"profile heap",id:"profile-heap",depth:2},{text:"schedule",id:"schedule",depth:2}],title:"profile",frontmatter:{}}}}]);