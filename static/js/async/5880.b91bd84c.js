"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["5880"],{8178:function(e,n,r){r.r(n),r.d(n,{default:function(){return c}});var i=r(5893),a=r(65);function l(e){let n=Object.assign({h2:"h2",a:"a",p:"p",pre:"pre",code:"code"},(0,a.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h2,{id:"how-to-create-a-new-plugin",children:["How to create a new plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-create-a-new-plugin",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"To create a new plugin based on the sample plugin, copy and rename the sample plugin directory and automake config."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cp -r src/examples/sample-plugin/sample src/plugins/newplugin\r\ncp src/examples/sample-plugin/sample.am src/plugins/newplugin.am\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Add the following entry to the plugins section of ",(0,i.jsx)(n.code,{children:"src/configure.ac"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PLUGIN_ENABLED(newplugin)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Add the following entry to the plugins section of ",(0,i.jsx)(n.code,{children:"src/plugins/Makefile.am"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"if ENABLE_NEWPLUGIN\r\ninclude newplugin.am\r\nendif\n"})}),"\n",(0,i.jsx)(n.p,{children:"Now (re)build VPP."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"$ make wipe\r\n$ make build\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"configuration",children:["Configuration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#configuration",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"To enable the sample plugin"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sample macswap <interface name>\n"})}),"\n",(0,i.jsx)(n.p,{children:"To disable the sample plugin"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sample macswap <interface name> disable\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"ref",children:["Ref",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ref",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://yq.aliyun.com/articles/674304",target:"_blank",rel:"noopener noreferrer",children:"如何新建VPP插件"}),"\r\n",(0,i.jsx)(n.a,{href:"https://www.asumu.xyz/blog/2018/03/22/how-to-develop-vpp-plugins/",target:"_blank",rel:"noopener noreferrer",children:"HOW TO DEVELOP VPP PLUGINS"}),"\r\n",(0,i.jsx)(n.a,{href:"https://www.sdnlab.com/24055.html",target:"_blank",rel:"noopener noreferrer",children:"sdnlab"})]})]})}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}let c=s;s.__RSPRESS_PAGE_META={},s.__RSPRESS_PAGE_META["notes%2F05-Networking%20%26%20Security%2Fvpp%2Fplugin.md"]={toc:[{text:"How to create a new plugin",id:"how-to-create-a-new-plugin",depth:2},{text:"Configuration",id:"configuration",depth:2},{text:"Ref",id:"ref",depth:2}],title:"",frontmatter:{}}}}]);