"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["6543"],{2223:function(e,n,s){s.r(n),s.d(n,{default:function(){return d}});var r=s(5893),l=s(65);function t(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",h3:"h3",ol:"ol",code:"code"},(0,l.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"dns",children:["DNS",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dns",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"There are serveral kinds of programs to manage the /etc/resolv.conf"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"NetworkManager: fedora and debain use it."}),"\n",(0,r.jsx)(n.li,{children:"netconfig: penSUSEï¼ŒSUSE use it."}),"\n",(0,r.jsx)(n.li,{children:"resolvconf, rdnssd: mostly Debian and Ubuntu 15 before."}),"\n",(0,r.jsx)(n.li,{children:"systemd-resolved: ubuntu after 15 or 16."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"to determine which program manage this file."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check the file comments"}),"\n",(0,r.jsx)(n.li,{children:"Check the symblink of /etc/resolv.conf"}),"\n",(0,r.jsx)(n.li,{children:"Check if the service is runing"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://blog.csdn.net/alex_yangchuansheng/article/details/108860378",target:"_blank",rel:"noopener noreferrer",children:"one"}),"\r\n",(0,r.jsx)(n.a,{href:"https://www.freedesktop.org/software/systemd/man/systemd-resolved.service.html#/etc/resolv.conf",target:"_blank",rel:"noopener noreferrer",children:"/etc/resolv.conf"}),"\r\n",(0,r.jsx)(n.a,{href:"https://moss.sh/name-resolution-issue-systemd-resolved/",target:"_blank",rel:"noopener noreferrer",children:"name-resolution-issue-systemd-resolved"})]}),"\n",(0,r.jsxs)(n.h2,{id:"dns-1",children:["dns",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dns-1",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"check-dns-server",children:["check dns server",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#check-dns-server",children:"#"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["nslookup google.com, sudo nslookup google.com, host google.com, sudo host ",(0,r.jsx)(n.a,{href:"http://www.google.com",target:"_blank",rel:"noopener noreferrer",children:"www.google.com"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"sudo systemd-resolve --status"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"cat /etc/netplan/50-cloud-init.yaml\r\nsudo netplan apply"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["edit ",(0,r.jsx)(n.code,{children:"/etc/systemd/resolved.conf"})," and then ",(0,r.jsx)(n.code,{children:"sudo service systemd-resolved restart"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"systemctl status systemd-resolved\r\nuse this file /run/systemd/resolve/stub-resolv.conf"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"file link:\r\n/etc/resolve.conf linkt..... /run/systemd/resolve/stub-resolv.conf"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"works:\r\nedit netplan first\r\nsudo ln -s /run/systemd/resolve/resolv.conf /etc/resolv.conf"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://unix.stackexchange.com/questions/548830/whats-the-difference-between-run-systemd-resolve-stub-resolv-conf-and-run-sys",target:"_blank",rel:"noopener noreferrer",children:"https://unix.stackexchange.com/questions/548830/whats-the-difference-between-run-systemd-resolve-stub-resolv-conf-and-run-sys"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"10.16.8.201\r\n10.16.130.201"})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}let d=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["notes%2F01-Cloud%20Computing%2FLinux%2Fdns.md"]={toc:[{text:"dns",id:"dns-1",depth:2},{text:"check dns server",id:"check-dns-server",depth:3}],title:"DNS",frontmatter:{}}}}]);