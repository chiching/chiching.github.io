"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["7775"],{3505:function(e,r,i){i.r(r),i.d(r,{default:function(){return t}});var n=i(5893),s=i(65);function o(e){let r=Object.assign({h1:"h1",a:"a",h2:"h2",pre:"pre",code:"code"},(0,s.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.h1,{id:"webui",children:["webui",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#webui",children:"#"})]}),"\n",(0,n.jsxs)(r.h2,{id:"dockerfile",children:["dockerfile",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#dockerfile",children:"#"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'From python:3.10-bookworm\r\n\r\nWORKDIR /app\r\n\r\nRUN apt -y update && apt install -y  python3 python3-pip wget && apt install -y --no-install-recommends google-perftools libgl1-mesa-glx\r\nRUN wget -qO- https://raw.githubusercontent.com/AUTOMATIC1111/stable-diffusion-webui/master/webui.sh\r\nRUN git config --global --add safe.directory /app/stable-diffusion-webui\r\nRUN git config --global --add safe.directory /app/stable-diffusion-webui/repositories/stable-diffusion-stability-ai\r\nRUN git config --global --add safe.directory /app/stable-diffusion-webui/repositories/generative-models\r\nRUN git config --global --add safe.directory /app/stable-diffusion-webui/repositories/k-diffusion\r\nRUN git config --global --add safe.directory /app/stable-diffusion-webui/repositories/CodeFormer\r\nRUN git config --global --add safe.directory /app/stable-diffusion-webui/repositories/BLIP\r\nRUN git config --global --add safe.directory /app/stable-diffusion-webui/extensions/sd-webui-stablesr\r\n\r\nCMD ["bash", "webui.sh",  "-f",  "--listen"]\r\n\r\n\n'})}),"\n",(0,n.jsxs)(r.h2,{id:"docker-compose",children:["docker compose",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#docker-compose",children:"#"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"version: '3'\r\n\r\nservices:\r\n  webui:\r\n    build: .\r\n    # image: python:3.10-bookworm\r\n    working_dir: /app\r\n    deploy:\r\n      resources:\r\n        reservations:\r\n          devices:\r\n            - driver: nvidia\r\n              device_ids : ['6']\r\n              capabilities: [gpu]\r\n    volumes:\r\n      - .:/app\r\n    #command: sleep infinity\r\n    ports:\r\n      - 7860:7860\r\n\n"})})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,s.ah)(),e.components);return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}let t=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["notes%2F07-AI%20%26%20Machine%20Learning%2Fwebui.md"]={toc:[{text:"dockerfile",id:"dockerfile",depth:2},{text:"docker compose",id:"docker-compose",depth:2}],title:"webui",frontmatter:{}}}}]);