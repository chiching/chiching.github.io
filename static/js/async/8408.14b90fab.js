"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["8408"],{9711:function(e,n,t){t.r(n),t.d(n,{default:()=>i});var l=t("5893"),p=t("65");let r=t.p+"static/image/20190108180008780_18092.28673a06.png",a=t.p+"static/image/20190108175952972_17531.e874cc20.png";function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",img:"img"},(0,p.ah)(),e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.h1,{id:"pktgen",children:["pktgen",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#pktgen",children:"#"})]}),"\n",(0,l.jsx)(n.p,{children:"sudo ${cmd} ${dpdk_opts} ${black_list} -- ${pktgen_opts} ${port_map} ${load_file}"}),"\n",(0,l.jsx)(n.p,{children:'dpdk_opts="-l 1-38 -n 4 --proc-type primary --log-level 7 --socket-mem 4096,4096"\r\npktgen_opts="-T -P -N -l /var/log/pktgen.log"\r\nport_map="-m [3:4].1,[6:7].2,[8:9].3,[12:15].4,[13:14].5,[10:11].6,[16:17].7"\r\nblack_list=""\r\nload_file="-f themes/white-black.theme"'}),"\n",(0,l.jsx)(n.p,{children:"stty sane"}),"\n",(0,l.jsx)(n.p,{children:"socat - TCP4:localhost:22022 < ttt.lua"}),"\n",(0,l.jsx)(n.p,{children:'pktgen.ip_proto("all", "udp")'}),"\n",(0,l.jsx)(n.p,{children:"sudo /dpdk/pktgen-3.4.0/app/x86_64-native-linuxapp-gcc/pktgen -l 1-38 -n 4 --proc-type primary --log-level 7 --socket-mem 4096,4096 -- -T -P -N -l /var/log/pktgen.log -m [3:4].1,[6:7].2,[8:9].3,[12:15].4,[13:14].5,[10:11].6,[16:17].7 -g 192.168.1.115:22022"}),"\n",(0,l.jsx)(n.p,{children:"/home/bkl/pktgen-3.5.1/app/x86_64-native-linuxapp-gcc/pktgen -l 1-38 -n 4 --proc-type primary --log-level 7 --socket-mem 4096,4096 -- -T -P -N -l /var/log/pktgen.log -m [3:4].1,[6:7].2,[8:9].3,[12:15].4,[13:14].5,[10:11].6,[16:17].7 -g 192.168.1.115:22022"}),"\n",(0,l.jsx)(n.p,{children:"Enable all range\r\nrange all dst ip 10.0.4.1 10.0.4.1 10.0.4.255 0.0.0.1\r\nrange all src ip 1.1.1.1 1.1.1.1 255.255.255.255 0.0.0.1\r\nstart all\r\n设置速率50%：\r\nSet all rate 50\r\n设置发包数量：\r\nSet all count 1000\r\n可以设置对应端口，将0换成对应端口号就行：\r\nSet 0 count 100"}),"\n",(0,l.jsx)(n.p,{children:"range all dst ip 192.168.123.1 192.168.123.1 192.168.123.255 0.0.0.1\r\nrange all size 128, 128, 512, 128"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)("img",{src:a,alt:""})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)("img",{src:r,alt:""})})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,p.ah)(),e.components);return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(s,{...e})}):s(e)}let i=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["notes%2F05-Networking%20%26%20Security%2Fptkgen%2Fpktgen.md"]={toc:[],title:"pktgen",frontmatter:{}}}}]);